{"version":3,"file":"helpers.js","sourceRoot":"","sources":["../../src/helpers.ts"],"names":["findOrCreateContactByPubkeyAndRouteHint","findOrCreateChatByUUID","sleep","parseReceiveParams","asyncForEach","newkeyexchangemsg"],"mappings":"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"}